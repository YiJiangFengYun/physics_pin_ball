!function(t){var e={};function o(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=6)}([function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.subVectors=function(e,o,n){return n||(n=new t),n.x=e.x-o.x,n.y=e.y-o.y,n},t.addVectors=function(e,o,n){return n||(n=new t),n.x=e.x+o.x,n.y=e.y+o.y,n},t.mulVectorMag=function(e,o,n){return n||(n=new t),n.x=e.x*o,n.y=e.y*o,n},t.normalVector=function(t,e){return e?e.copy(t):e=t.clone(),e.normal(),e},t.dotVectors=function(t,e){return t.x*e.x+t.y*e.y},t.reflectVector=function(e,o,n){if(n){if(n==e)throw new Error("The result shouldn't be argument vec.")}else n=new t;var r=t.dotVectors(e,o);return n.copy(o),n.mulMag(2*r),t.subVectors(e,n,n),n},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copy=function(t){this.x=t.x,this.y=t.y},t.prototype.sub=function(t){this.x-=t.x,this.y-=t.y},t.prototype.add=function(t){this.x+=t.x,this.y+=t.y},t.prototype.mulMag=function(t){this.x*=t,this.y*=t},t.prototype.magnitude=function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)},t.prototype.manitudeSquare=function(){var t=this.x,e=this.y;return t*t+e*e},t.prototype.normal=function(){var t=this.magnitude();this.x/=t,this.y/=t},t.prototype.zero=function(){this.x=0,this.y=0},t}();e.Vector=n},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),r=o(3),i=function(){function t(){this._pos=new n.Vector,this._bounds=new r.Bounds}return Object.defineProperty(t.prototype,"pos",{get:function(){return this._pos},set:function(t){this._pos.copy(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bounds",{get:function(){return this._bounds},enumerable:!0,configurable:!0}),t.prototype.updatePos=function(t){t&&(this._pos=t)},t}();e.Obj=i},function(t,e,o){"use strict";var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=o(1),i=o(0),s=function(t){function e(){var o=t.call(this)||this;o._width=0,o._height=0;var n=[];o._points=n;var r=e.POINT_COUNT;n.length=r;for(var s=0;s<r;++s)n[s]=new i.Vector;return o._setBounds(),o._setPoints(),o}return n(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this._setBounds(),this._setPoints()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this._setBounds(),this._setPoints()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pos",{get:function(){return this._pos},set:function(t){this._pos.copy(t),this._setBounds(),this._setPoints()},enumerable:!0,configurable:!0}),e.prototype.updatePos=function(e){t.prototype.updatePos.call(this,e),this._setBounds(),this._setPoints()},Object.defineProperty(e.prototype,"points",{get:function(){return this._points},enumerable:!0,configurable:!0}),e.prototype._setBounds=function(){var t=this._pos,e=this._bounds,o=this._width/2,n=this._height/2;e.minX=t.x-o,e.minY=t.y-n,e.maxX=t.x+o,e.maxY=t.y+n},e.prototype._setPoints=function(){var t=this._bounds,e=this._points;e[0].x=t.minX,e[0].y=t.minY,e[1].x=t.maxX,e[1].y=t.minY,e[3].x=t.maxX,e[3].y=t.maxY,e[2].x=t.minX,e[2].y=t.maxY},e.POINT_COUNT=4,e}(r.Obj);e.Rectangle=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,o,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===o&&(o=0),void 0===n&&(n=0),this.minX=t,this.minY=e,this.maxX=o,this.maxY=n}return t.intersectBounds=function(t,e){return!(t.minX>e.maxX||t.maxX<e.minX||t.minY>e.maxY||t.maxY<e.minY)},t.prototype.intersect=function(e){return t.intersectBounds(this,e)},t}();e.Bounds=n},function(t,e,o){"use strict";var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){var e=t.call(this)||this;return e._radius=0,e._setBounds(),e}return n(e,t),Object.defineProperty(e.prototype,"radius",{get:function(){return this._radius},set:function(t){this._radius=t,this._setBounds()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pos",{get:function(){return this._pos},set:function(t){this._pos.copy(t),this._setBounds()},enumerable:!0,configurable:!0}),e.prototype.updatePos=function(e){t.prototype.updatePos.call(this,e),this._setBounds()},e.prototype._setBounds=function(){var t=this._pos,e=this._bounds,o=this._radius;e.minX=t.x-o,e.minY=t.y-o,e.maxX=t.x+o,e.maxY=t.y+o},e}(o(1).Obj);e.Circle=r},function(t,e,o){"use strict";var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=o(1),i=o(0),s=o(2);!function(t){t[t.LEFT_UP=0]="LEFT_UP",t[t.RIGHT_UP=1]="RIGHT_UP",t[t.RIGHT_BOTTOM=3]="RIGHT_BOTTOM",t[t.LEFT_BOTTOM=2]="LEFT_BOTTOM"}(e.DirectIRTriangle||(e.DirectIRTriangle={}));var c=function(t){function e(){var e=t.call(this)||this;e._size=0;var o=[];e._points=o;var n=s.Rectangle.POINT_COUNT;o.length=n;for(var r=0;r<n;++r)o[r]=new i.Vector;return e._setBounds(),e._setPoints(),e}return n(e,t),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},set:function(t){this._size=t,this._setBounds(),this._setPoints()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pos",{get:function(){return this._pos},set:function(t){this._pos.copy(t),this._setBounds(),this._setPoints()},enumerable:!0,configurable:!0}),e.prototype.updatePos=function(e){t.prototype.updatePos.call(this,e),this._setBounds(),this._setPoints()},Object.defineProperty(e.prototype,"points",{get:function(){return this._points},enumerable:!0,configurable:!0}),e.prototype._setBounds=function(){var t=this._pos,e=this._bounds,o=this._size/2;e.minX=t.x-o,e.minY=t.y-o,e.maxX=t.x+o,e.maxY=t.y+o},e.prototype._setPoints=function(){var t=this._bounds,e=this._points;e[0].x=t.minX,e[0].y=t.minY,e[1].x=t.maxX,e[1].y=t.minY,e[3].x=t.maxX,e[3].y=t.maxY,e[2].x=t.minX,e[2].y=t.maxY},e.POINT_COUNT=4,e}(r.Obj);e.IRTriangle=c},function(t,e,o){"use strict";function n(t){for(var o in t)e.hasOwnProperty(o)||(e[o]=t[o])}Object.defineProperty(e,"__esModule",{value:!0}),n(o(0)),n(o(3)),n(o(1)),n(o(4)),n(o(2)),n(o(5)),n(o(7)),n(o(8))},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),r=function(){function t(){this.time=0,this.objectCount=0,this.objects=[],this.myCircleCount=0,this.myCircles=[]}return t.prototype.addObj=function(t){this.objectCount<this.objects.length?this.objects[this.objectCount++]=t:(this.objects.length=2*this.objects.length,this.objects[this.objectCount++]=t)},t.prototype.removeObj=function(t){for(var e=this.objectCount,o=this.objects,n=0;n<e;++n)if(t==o[n])return n<--e&&(o[n]=o[e],o[e]=null),void(this.objectCount=e)},t.prototype.clearObjs=function(){this.objectCount=0},t.prototype.addMyCircle=function(t){this.myCircleCount<this.myCircles.length?this.myCircles[this.myCircleCount++]=t:(this.myCircles.length=2*this.myCircles.length,this.myCircles[this.myCircleCount++]=t)},t.prototype.removeMyCircle=function(t){for(var e=this.myCircleCount,o=this.myCircles,n=0;n<e;++n)if(t==o[n])return n<--e&&(o[n]=o[e],o[e]=null),void(this.myCircleCount=e)},t.prototype.clearMyCircles=function(){this.myCircleCount=0},t.prototype.step=function(t,e){t=t||0,e=e||1;for(var o=new n.Vector,r=new n.Vector,i={collided:!1,normal:new n.Vector},s=new n.Vector,c=new n.Vector,u=t/e,a=0;a<e;++a)for(var l=this.myCircleCount,p=this.myCircles,f=0;f<l;++f){var y=this.objectCount,h=this.objects,d=p[f],_=o;_.copy(d.pos);var m=r;m.x=d.pos.x+d.velocity.x*u,m.y=d.pos.y+d.velocity.y*u,d.pos=m;var b=!1,v=i,x=s;x.zero();for(var O=0;O<y;++O){var P=h[O];d.collide(P,v),v.collided&&(b=!0,x.add(v.normal))}var g=c;if(b){d.pos=_;var j=d.velocity.magnitude();n.Vector.reflectVector(d.velocity,x,g),g.normal(),g.mulMag(j),d.velocity.copy(g);var V=r;V.x=d.pos.x+d.velocity.x*u,V.y=d.pos.y+d.velocity.y*u,d.pos=V}}this.time+=t},t}();e.World=r},function(t,e,o){"use strict";var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=o(4),i=o(2),s=o(0),c=o(5),u=function(t){function e(){var e=t.call(this)||this;return e._velocity=new s.Vector,e}return n(e,t),Object.defineProperty(e.prototype,"velocity",{get:function(){return this._velocity},set:function(t){this._velocity=t},enumerable:!0,configurable:!0}),e.prototype.collide=function(t,e){if(null==e?e={collided:!1,normal:new s.Vector}:e.collided=!1,t instanceof r.Circle){var o=t;if((_=this).bounds.intersect(o.bounds))(X=s.Vector.subVectors(_.pos,o.pos)).magnitude()<_.radius+o.radius&&(e.collided=!0,X.normal(),e.normal.copy(X))}else if(t instanceof i.Rectangle){var n=t;if((_=this).bounds.intersect(n.bounds)){var u=(b=_.pos).x,a=b.y,l=_.radius,p=n.bounds;if(u>p.minX&&u<p.maxX)a>p.minY&&a<p.maxY?(e.collided=!0,s.Vector.normalVector(_.velocity,e.normal)):a>p.maxY?a-p.maxY<l&&(e.collided=!0,e.normal=new s.Vector(0,1)):a<p.minY&&p.minY-a<l&&(e.collided=!0,e.normal=new s.Vector(0,-1));else if(a>p.minY&&a<p.maxY)u>p.maxX?u-p.maxX<l&&(e.collided=!0,e.normal=new s.Vector(1,0)):u<p.minX&&p.minX-u<l&&(e.collided=!0,e.normal=new s.Vector(-1,0));else for(var f=(M=n.points).length,y=new s.Vector,h=l*l,d=0;d<f;++d)if(s.Vector.subVectors(b,M[d],y),y.manitudeSquare()<h){e.collided=!0,s.Vector.normalVector(y,e.normal);break}}}else{if(!(t instanceof c.IRTriangle))throw new Error("Invalid shape for collision detection.");var _,m=t;if((_=this).bounds.intersect(m.bounds)){var b,v=[(b=_.pos).x,b.y],x=(l=_.radius,m.bounds),O=[x.minX,x.minY],P=[x.maxX,x.maxY],g=0;v[0]>O[0]&&v[0]<P[0]?g|=1:v[0]>P[0]&&(g|=2),v[1]>O[1]&&v[1]<P[1]?g|=4:v[1]>P[1]&&(g|=8);for(var j=!1,V=0;V<3;++V){for(var w=0;w<3;++w)if(0==(3&g^V)&&0==(g>>2^w)){j=!0;var C=1!=V&&V>>1==(1&m.direct),T=1!=w&&w>>1==(m.direct>>1&1);if(C||T)if(1!=V&&1!=w){var Y=(M=m.points)[w>>1<<1|V>>1];y=new s.Vector,h=l*l;s.Vector.subVectors(b,Y,y),y.manitudeSquare()<h&&(e.collided=!0,s.Vector.normalVector(y,e.normal))}else{Y=(M=m.points)[m.direct];1!=V?Math.abs(Y.x-v[0])<l&&(e.collided=!0,e.normal=new s.Vector(V-1,0)):Math.abs(Y.y-v[1])<l&&(e.collided=!0,e.normal=new s.Vector(0,w-1))}else{var M,X,B=s.Vector.subVectors(_.pos,m.pos);Y=(M=m.points)[m.direct];(X=s.Vector.subVectors(m.pos,Y)).normal(),s.Vector.dotVectors(B,X)<_.radius&&(e.collided=!0,e.normal=X)}break}if(j)break}}}return e},e}(r.Circle);e.MyCircle=u}]);
//# sourceMappingURL=model.min.js.map