!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.subVectors=function(e,n,o){return o||(o=new t),o.x=e.x-n.x,o.y=e.y-n.y,o},t.addVectors=function(e,n,o){return o||(o=new t),o.x=e.x+n.x,o.y=e.y+n.y,o},t.mulVectorMag=function(e,n,o){return o||(o=new t),o.x=e.x*n,o.y=e.y*n,o},t.normalVector=function(t,e){return e?e.copy(t):e=t.clone(),e.normal(),e},t.dotVectors=function(t,e){return t.x*e.x+t.y*e.y},t.reflectVector=function(e,n,o){if(o){if(o==e)throw new Error("The result shouldn't be argument vec.")}else o=new t;var r=t.dotVectors(e,n);return o.copy(n),o.mulMag(2*r),t.subVectors(e,o,o),o},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copy=function(t){this.x=t.x,this.y=t.y},t.prototype.sub=function(t){this.x-=t.x,this.y-=t.y},t.prototype.add=function(t){this.x+=t.x,this.y+=t.y},t.prototype.mulMag=function(t){this.x*=t,this.y*=t},t.prototype.magnitude=function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)},t.prototype.manitudeSquare=function(){var t=this.x,e=this.y;return t*t+e*e},t.prototype.normal=function(){var t=this.magnitude();this.x/=t,this.y/=t},t.prototype.zero=function(){this.x=0,this.y=0},t}();e.Vector=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),r=n(3),i=function(){function t(){this._pos=new o.Vector,this._bounds=new r.Bounds}return Object.defineProperty(t.prototype,"pos",{get:function(){return this._pos},set:function(t){this._pos.copy(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bounds",{get:function(){return this._bounds},enumerable:!0,configurable:!0}),t.prototype.updatePos=function(t){t&&(this._pos=t)},t}();e.Obj=i},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),s=function(t){function e(){var n=t.call(this)||this;n._width=0,n._height=0;var o=[];n._points=o;var r=e.POINT_COUNT;o.length=r;for(var s=0;s<r;++s)o[s]=new i.Vector;return n._setBounds(),n._setPoints(),n}return o(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this._setBounds(),this._setPoints()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this._setBounds(),this._setPoints()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pos",{get:function(){return this._pos},set:function(t){this._pos.copy(t),this._setBounds(),this._setPoints()},enumerable:!0,configurable:!0}),e.prototype.updatePos=function(e){t.prototype.updatePos.call(this,e),this._setBounds(),this._setPoints()},Object.defineProperty(e.prototype,"points",{get:function(){return this._points},enumerable:!0,configurable:!0}),e.prototype._setBounds=function(){var t=this._pos,e=this._bounds,n=this._width/2,o=this._height/2;e.minX=t.x-n,e.minY=t.y-o,e.maxX=t.x+n,e.maxY=t.y+o},e.prototype._setPoints=function(){var t=this._bounds,e=this._points;e[0].x=t.minX,e[0].y=t.minY,e[1].x=t.maxX,e[1].y=t.minY,e[3].x=t.maxX,e[3].y=t.maxY,e[2].x=t.minX,e[2].y=t.maxY},e.POINT_COUNT=4,e}(r.Obj);e.Rectangle=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e,n,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===o&&(o=0),this.minX=t,this.minY=e,this.maxX=n,this.maxY=o}return t.intersectBounds=function(t,e){return!(t.minX>e.maxX||t.maxX<e.minX||t.minY>e.maxY||t.maxY<e.minY)},t.prototype.intersect=function(e){return t.intersectBounds(this,e)},t}();e.Bounds=o},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){var e=t.call(this)||this;return e._radius=0,e._setBounds(),e}return o(e,t),Object.defineProperty(e.prototype,"radius",{get:function(){return this._radius},set:function(t){this._radius=t,this._setBounds()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pos",{get:function(){return this._pos},set:function(t){this._pos.copy(t),this._setBounds()},enumerable:!0,configurable:!0}),e.prototype.updatePos=function(e){t.prototype.updatePos.call(this,e),this._setBounds()},e.prototype._setBounds=function(){var t=this._pos,e=this._bounds,n=this._radius;e.minX=t.x-n,e.minY=t.y-n,e.maxX=t.x+n,e.maxY=t.y+n},e}(n(1).Obj);e.Circle=r},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),s=n(2);!function(t){t[t.LEFT_UP=0]="LEFT_UP",t[t.RIGHT_UP=1]="RIGHT_UP",t[t.RIGHT_BOTTOM=3]="RIGHT_BOTTOM",t[t.LEFT_BOTTOM=2]="LEFT_BOTTOM"}(e.DirectIRTriangle||(e.DirectIRTriangle={}));var c=function(t){function e(){var e=t.call(this)||this;e._size=0;var n=[];e._points=n;var o=s.Rectangle.POINT_COUNT;n.length=o;for(var r=0;r<o;++r)n[r]=new i.Vector;return e._setBounds(),e._setPoints(),e}return o(e,t),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},set:function(t){this._size=t,this._setBounds(),this._setPoints()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pos",{get:function(){return this._pos},set:function(t){this._pos.copy(t),this._setBounds(),this._setPoints()},enumerable:!0,configurable:!0}),e.prototype.updatePos=function(e){t.prototype.updatePos.call(this,e),this._setBounds(),this._setPoints()},Object.defineProperty(e.prototype,"points",{get:function(){return this._points},enumerable:!0,configurable:!0}),e.prototype._setBounds=function(){var t=this._pos,e=this._bounds,n=this._size/2;e.minX=t.x-n,e.minY=t.y-n,e.maxX=t.x+n,e.maxY=t.y+n},e.prototype._setPoints=function(){var t=this._bounds,e=this._points;e[0].x=t.minX,e[0].y=t.minY,e[1].x=t.maxX,e[1].y=t.minY,e[3].x=t.maxX,e[3].y=t.maxY,e[2].x=t.minX,e[2].y=t.maxY},e.POINT_COUNT=4,e}(r.Obj);e.IRTriangle=c},function(t,e,n){"use strict";function o(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),o(n(0)),o(n(3)),o(n(1)),o(n(4)),o(n(2)),o(n(5)),o(n(7)),o(n(9))},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=function(t){function e(){var e=t.call(this)||this;return e.time=0,e.objectCount=0,e.objects=[],e.myCircleCount=0,e.myCircles=[],e}return o(e,t),e.prototype.addObj=function(t){this.objectCount<this.objects.length?this.objects[this.objectCount++]=t:(this.objects.length=2*this.objects.length,this.objects[this.objectCount++]=t)},e.prototype.removeObj=function(t){for(var e=this.objectCount,n=this.objects,o=0;o<e;++o)if(t==n[o])return o<--e&&(n[o]=n[e],n[e]=null),void(this.objectCount=e)},e.prototype.clearObjs=function(){this.objectCount=0},e.prototype.addMyCircle=function(t){this.myCircleCount<this.myCircles.length?this.myCircles[this.myCircleCount++]=t:(this.myCircles.length=2*this.myCircles.length,this.myCircles[this.myCircleCount++]=t)},e.prototype.removeMyCircle=function(t){for(var e=this.myCircleCount,n=this.myCircles,o=0;o<e;++o)if(t==n[o])return o<--e&&(n[o]=n[e],n[e]=null),void(this.myCircleCount=e)},e.prototype.clearMyCircles=function(){this.myCircleCount=0},e.prototype.step=function(t,e){t=t||0,e=e||1;for(var n=new r.Vector,o=new r.Vector,i={collided:!1,normal:new r.Vector},s=new r.Vector,c=new r.Vector,u=t/e,a=0;a<e;++a)for(var p=this.myCircleCount,f=this.myCircles,l=0;l<p;++l){var h=this.objectCount,y=this.objects,_=f[l],d=n;d.copy(_.pos);var v=o;v.x=_.pos.x+_.velocity.x*u,v.y=_.pos.y+_.velocity.y*u,_.pos=v;var m=!1,b=i,x=s;x.zero();for(var O=0;O<h;++O){var g=y[O];_.collide(g,b),b.collided&&(m=!0,x.add(b.normal),this.emit("collided",g))}var j=c;if(m){_.pos=d;var P=_.velocity.magnitude();r.Vector.reflectVector(_.velocity,x,j),j.normal(),j.mulMag(P),_.velocity.copy(j);var w=o;w.x=_.pos.x+_.velocity.x*u,w.y=_.pos.y+_.velocity.y*u,_.pos=w}}this.time+=t},e}(n(8).EventEmitter);e.World=i},function(t,e,n){"use strict";var o=Object.prototype.hasOwnProperty,r="~";function i(){}function s(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function c(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(r=!1)),c.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)o.call(t,e)&&n.push(r?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},c.prototype.listeners=function(t,e){var n=r?r+t:t,o=this._events[n];if(e)return!!o;if(!o)return[];if(o.fn)return[o.fn];for(var i=0,s=o.length,c=new Array(s);i<s;i++)c[i]=o[i].fn;return c},c.prototype.emit=function(t,e,n,o,i,s){var c=r?r+t:t;if(!this._events[c])return!1;var u,a,p=this._events[c],f=arguments.length;if(p.fn){switch(p.once&&this.removeListener(t,p.fn,void 0,!0),f){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,e),!0;case 3:return p.fn.call(p.context,e,n),!0;case 4:return p.fn.call(p.context,e,n,o),!0;case 5:return p.fn.call(p.context,e,n,o,i),!0;case 6:return p.fn.call(p.context,e,n,o,i,s),!0}for(a=1,u=new Array(f-1);a<f;a++)u[a-1]=arguments[a];p.fn.apply(p.context,u)}else{var l,h=p.length;for(a=0;a<h;a++)switch(p[a].once&&this.removeListener(t,p[a].fn,void 0,!0),f){case 1:p[a].fn.call(p[a].context);break;case 2:p[a].fn.call(p[a].context,e);break;case 3:p[a].fn.call(p[a].context,e,n);break;case 4:p[a].fn.call(p[a].context,e,n,o);break;default:if(!u)for(l=1,u=new Array(f-1);l<f;l++)u[l-1]=arguments[l];p[a].fn.apply(p[a].context,u)}}return!0},c.prototype.on=function(t,e,n){var o=new s(e,n||this),i=r?r+t:t;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],o]:this._events[i].push(o):(this._events[i]=o,this._eventsCount++),this},c.prototype.once=function(t,e,n){var o=new s(e,n||this,!0),i=r?r+t:t;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],o]:this._events[i].push(o):(this._events[i]=o,this._eventsCount++),this},c.prototype.removeListener=function(t,e,n,o){var s=r?r+t:t;if(!this._events[s])return this;if(!e)return 0==--this._eventsCount?this._events=new i:delete this._events[s],this;var c=this._events[s];if(c.fn)c.fn!==e||o&&!c.once||n&&c.context!==n||(0==--this._eventsCount?this._events=new i:delete this._events[s]);else{for(var u=0,a=[],p=c.length;u<p;u++)(c[u].fn!==e||o&&!c[u].once||n&&c[u].context!==n)&&a.push(c[u]);a.length?this._events[s]=1===a.length?a[0]:a:0==--this._eventsCount?this._events=new i:delete this._events[s]}return this},c.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new i:delete this._events[e])):(this._events=new i,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prototype.setMaxListeners=function(){return this},c.prefixed=r,c.EventEmitter=c,t.exports=c},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),i=n(2),s=n(0),c=n(5),u=function(t){function e(){var e=t.call(this)||this;return e._velocity=new s.Vector,e}return o(e,t),Object.defineProperty(e.prototype,"velocity",{get:function(){return this._velocity},set:function(t){this._velocity=t},enumerable:!0,configurable:!0}),e.prototype.collide=function(t,e){if(null==e?e={collided:!1,normal:new s.Vector}:e.collided=!1,t instanceof r.Circle){var n=t;if((d=this).bounds.intersect(n.bounds))(X=s.Vector.subVectors(d.pos,n.pos)).magnitude()<d.radius+n.radius&&(e.collided=!0,X.normal(),e.normal.copy(X))}else if(t instanceof i.Rectangle){var o=t;if((d=this).bounds.intersect(o.bounds)){var u=(m=d.pos).x,a=m.y,p=d.radius,f=o.bounds;if(u>f.minX&&u<f.maxX)a>f.minY&&a<f.maxY?(e.collided=!0,s.Vector.normalVector(d.velocity,e.normal)):a>f.maxY?a-f.maxY<p&&(e.collided=!0,e.normal=new s.Vector(0,1)):a<f.minY&&f.minY-a<p&&(e.collided=!0,e.normal=new s.Vector(0,-1));else if(a>f.minY&&a<f.maxY)u>f.maxX?u-f.maxX<p&&(e.collided=!0,e.normal=new s.Vector(1,0)):u<f.minX&&f.minX-u<p&&(e.collided=!0,e.normal=new s.Vector(-1,0));else for(var l=(M=o.points).length,h=new s.Vector,y=p*p,_=0;_<l;++_)if(s.Vector.subVectors(m,M[_],h),h.manitudeSquare()<y){e.collided=!0,s.Vector.normalVector(h,e.normal);break}}}else{if(!(t instanceof c.IRTriangle))throw new Error("Invalid shape for collision detection.");var d,v=t;if((d=this).bounds.intersect(v.bounds)){var m,b=[(m=d.pos).x,m.y],x=(p=d.radius,v.bounds),O=[x.minX,x.minY],g=[x.maxX,x.maxY],j=0;b[0]>O[0]&&b[0]<g[0]?j|=1:b[0]>g[0]&&(j|=2),b[1]>O[1]&&b[1]<g[1]?j|=4:b[1]>g[1]&&(j|=8);for(var P=!1,w=0;w<3;++w){for(var C=0;C<3;++C)if(0==(3&j^w)&&0==(j>>2^C)){P=!0;var V=1!=w&&w>>1==(1&v.direct),T=1!=C&&C>>1==(v.direct>>1&1);if(V||T)if(1!=w&&1!=C){var Y=(M=v.points)[C>>1<<1|w>>1];h=new s.Vector,y=p*p;s.Vector.subVectors(m,Y,h),h.manitudeSquare()<y&&(e.collided=!0,s.Vector.normalVector(h,e.normal))}else{Y=(M=v.points)[v.direct];1!=w?Math.abs(Y.x-b[0])<p&&(e.collided=!0,e.normal=new s.Vector(w-1,0)):Math.abs(Y.y-b[1])<p&&(e.collided=!0,e.normal=new s.Vector(0,C-1))}else{var M,X,B=s.Vector.subVectors(d.pos,v.pos);Y=(M=v.points)[v.direct];(X=s.Vector.subVectors(v.pos,Y)).normal(),s.Vector.dotVectors(B,X)<d.radius&&(e.collided=!0,e.normal=X)}break}if(P)break}}}return e},e}(r.Circle);e.MyCircle=u}]);
//# sourceMappingURL=model.min.js.map